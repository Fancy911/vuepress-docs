(window.webpackJsonp=window.webpackJsonp||[]).push([[47],{494:function(s,t,a){s.exports=a.p+"assets/img/回调地狱.b73ed321.jpg"},672:function(s,t,a){"use strict";a.r(t);var n=a(2),e=Object(n.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h2",{attrs:{id:"promise是什么"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#promise是什么"}},[s._v("#")]),s._v(" Promise是什么")]),s._v(" "),t("ul",[t("li",[s._v("抽象表达")])]),s._v(" "),t("ol",[t("li",[s._v("Promise 是一门新的技术(ES6 规范)")]),s._v(" "),t("li",[s._v("Promise 是 JS 中进行异步编程的新解决方案\n"),t("blockquote",[t("p",[s._v("备注:旧方案是单纯使用回调函数")])])])]),s._v(" "),t("hr"),s._v(" "),t("ul",[t("li",[s._v("具体表达")])]),s._v(" "),t("ol",[t("li",[s._v("从语法上来说: Promise 是一个构造函数")]),s._v(" "),t("li",[s._v("从功能上来说: Promise 对象用来封装一个"),t("strong",[s._v("异步操作")]),s._v("并可以获取其成功/\n失败的结果值")])]),s._v(" "),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"title"}),t("h3",{attrs:{id:"异步编程"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#异步编程"}},[s._v("#")]),s._v(" 异步编程")]),s._v(" "),t("ul",[t("li",[s._v("fs 文件操作")])]),s._v(" "),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'fs'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("readFile")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'./index.html'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("err"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("data")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("ul",[t("li",[s._v("数据库操作")]),s._v(" "),t("li",[s._v("AJAX")])]),s._v(" "),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[s._v("$"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("get")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'/server'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("data")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("ul",[t("li",[s._v("定时器")])]),s._v(" "),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("setTimeout")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2000")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])])]),t("h2",{attrs:{id:"为什么要用promise"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#为什么要用promise"}},[s._v("#")]),s._v(" 为什么要用Promise")]),s._v(" "),t("h3",{attrs:{id:"指定回调函数的方式更加灵活"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#指定回调函数的方式更加灵活"}},[s._v("#")]),s._v(" 指定回调函数的方式更加灵活")]),s._v(" "),t("ol",[t("li",[s._v("旧的: 必须在启动异步任务前指定（可以去看原生ajax部分的内容）")]),s._v(" "),t("li",[s._v("promise: 启动异步任务 => 返回 promise 对象 => 给 promise 对象绑定回调函\n数(甚至可以在异步任务结束后指定/多个)")])]),s._v(" "),t("h3",{attrs:{id:"支持链式调用-可以解决回调地狱问题"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#支持链式调用-可以解决回调地狱问题"}},[s._v("#")]),s._v(" 支持链式调用, 可以解决回调地狱问题")]),s._v(" "),t("ol",[t("li",[s._v("什么是回调地狱?\n"),t("ul",[t("li",[s._v("回调函数嵌套调用, 外部回调函数异步执行的结果是嵌套的回调执行的条件")])])]),s._v(" "),t("li",[s._v("回调地狱的缺点?\n"),t("ul",[t("li",[s._v("不便于阅读")]),s._v(" "),t("li",[s._v("不便于异常处理")]),s._v(" "),t("li",[t("img",{attrs:{src:a(494)}})])])]),s._v(" "),t("li",[s._v("解决方案?\n"),t("ul",[t("li",[s._v("promise 链式调用")])])]),s._v(" "),t("li",[s._v("终极解决方案?\n"),t("ul",[t("li",[s._v("async/await")])])])])])}),[],!1,null,null,null);t.default=e.exports}}]);