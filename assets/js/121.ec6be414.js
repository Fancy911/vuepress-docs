(window.webpackJsonp=window.webpackJsonp||[]).push([[121],{634:function(t,s,a){"use strict";a.r(s);var n=a(2),e=Object(n.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h2",{attrs:{id:"spa是什么"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#spa是什么"}},[t._v("#")]),t._v(" SPA是什么？")]),t._v(" "),s("ol",[s("li",[t._v("SPA："),s("code",[t._v("Single Page Application")]),t._v("，单页面应用。")]),t._v(" "),s("li",[t._v("整个应用只有一个完整的页面。")]),t._v(" "),s("li",[t._v("点击页面中的链接不会刷新页面，只会做页面的局部更新。")]),t._v(" "),s("li",[t._v("数据都需要通过"),s("code",[t._v("ajax")]),t._v("请求获取, 并在前端异步展现。")])]),t._v(" "),s("p",[t._v("单页面，但可以多个组件，组件之间的切换就是路由的作用。")]),t._v(" "),s("h2",{attrs:{id:"什么是路由"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#什么是路由"}},[t._v("#")]),t._v(" 什么是路由？")]),t._v(" "),s("ol",[s("li",[t._v("一个路由就是一个映射关系"),s("code",[t._v("(key:value)")])]),t._v(" "),s("li",[s("code",[t._v("key")]),t._v("为路径, "),s("code",[t._v("value")]),t._v("可能是"),s("code",[t._v("function（后端路由）")]),t._v("或"),s("code",[t._v("component（前端路由）")])])]),t._v(" "),s("h2",{attrs:{id:"路由分类"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#路由分类"}},[t._v("#")]),t._v(" 路由分类")]),t._v(" "),s("h3",{attrs:{id:"后端路由"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#后端路由"}},[t._v("#")]),t._v(" 后端路由")]),t._v(" "),s("ul",[s("li",[t._v("理解： "),s("code",[t._v("value")]),t._v("是"),s("code",[t._v("function")]),t._v(", 用来处理客户端提交的请求。")]),t._v(" "),s("li",[t._v("注册路由："),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("router"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("get")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("path"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("req"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" res")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])])]),t._v(" "),s("li",[t._v("工作过程：当"),s("code",[t._v("node")]),t._v("接收到一个请求时, 根据请求路径找到匹配的路由, 调用路由中的函数来处理请求, 返回响应数据")])]),t._v(" "),s("h3",{attrs:{id:"前端路由"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#前端路由"}},[t._v("#")]),t._v(" 前端路由")]),t._v(" "),s("ul",[s("li",[t._v("浏览器端路由，"),s("code",[t._v("value")]),t._v("是"),s("code",[t._v("component")]),t._v("，用于展示页面内容。")]),t._v(" "),s("li",[t._v("注册路由:"),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Route path"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/test"')]),t._v(" component"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("Test"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])])]),t._v(" "),s("li",[t._v("工作过程：当浏览器的"),s("code",[t._v("path")]),t._v("变为"),s("code",[t._v("/test")]),t._v("时, 当前路由组件就会变为"),s("code",[t._v("Test")]),t._v("组件")])]),t._v(" "),s("h2",{attrs:{id:"前端路由的基石-histroy"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#前端路由的基石-histroy"}},[t._v("#")]),t._v(" 前端路由的基石-"),s("code",[t._v("histroy")])]),t._v(" "),s("blockquote",[s("p",[t._v("JS由DOM、BOM、ECMAScript组成\n"),s("code",[t._v("history")]),t._v("就是BOM中的一个对象，用来管理浏览器的历史记录，提供了一些操作历史记录的方法。")])]),t._v(" "),s("p",[s("code",[t._v("History")]),t._v("对象保存了当前窗口访问过的所有页面网址。")]),t._v(" "),s("p",[s("code",[t._v("History")]),t._v("的结构是一个"),s("strong",[t._v("栈")]),t._v("结构，最新访问的网址在栈顶，最早访问的网址在栈底。")]),t._v(" "),s("h3",{attrs:{id:"_1-history对象的常用属性"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-history对象的常用属性"}},[t._v("#")]),t._v(" 1."),s("code",[t._v("History")]),t._v("对象的常用属性")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("window.history.length")]),t._v("：当前窗口访问过的网址数量（包括当前网页）")]),t._v(" "),s("li",[s("code",[t._v("window.history.state")]),t._v("："),s("code",[t._v("History")]),t._v("堆栈最上层的状态值（详见下文）")])]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 当前窗口访问过多少个网页")]),t._v("\nwindow"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("history"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 1")]),t._v("\n \n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// History 对象的当前状态")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 通常是 undefined，即未设置")]),t._v("\nwindow"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("history"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("state "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// undefined")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br")])]),s("h3",{attrs:{id:"_2-history对象的常用方法"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-history对象的常用方法"}},[t._v("#")]),t._v(" 2."),s("code",[t._v("History")]),t._v("对象的常用方法")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("back()")]),t._v("：移动到上一个网址，等同于点击浏览器的后退键。（对于第一个访问的网址，该方法无效果）")]),t._v(" "),s("li",[s("code",[t._v("forward()")]),t._v("：移动到下一个网址，等同于点击浏览器的前进键。（对于最后一个访问的网址，该方法无效果）")]),t._v(" "),s("li",[s("code",[t._v("go()")]),t._v("：接受一个整数作为参数，以当前网址为基准，移动到参数指定的网址.\n"),s("ul",[s("li",[t._v("比如"),s("code",[t._v("go(1)")]),t._v("相当于"),s("code",[t._v("forward()")])]),t._v(" "),s("li",[s("code",[t._v("go(-1)")]),t._v("相当于"),s("code",[t._v("back()")]),t._v("。")]),t._v(" "),s("li",[t._v("如果参数超过实际存在的网址范围，该方法无效果；")]),t._v(" "),s("li",[t._v("如果不指定参数，默认参数为"),s("code",[t._v("0")]),t._v("，相当于刷新当前页面。")])])]),t._v(" "),s("li",[s("code",[t._v("push()")]),t._v(": 添加一个新的历史记录")]),t._v(" "),s("li",[s("code",[t._v("replace()")]),t._v(": 替换当前的历史记录")])]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("history"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("back")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 后退")]),t._v("\nhistory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("forward")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 前进")]),t._v("\nhistory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("go")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 回退两个页面")]),t._v("\nhistory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("go")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 刷新当前页面")]),t._v("\n\nhistory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("push")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("url"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 添加一个新的历史记录")]),t._v("\nhistory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("replace")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("url"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 替换当前的历史记录")]),t._v("\n\nhistory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("listen")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("location"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" action")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// location 是一个类似 window.location 的对象")]),t._v("\n  console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("action"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" location"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("pathname"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" location"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("state"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br")])]),s("p",[t._v("其它方法：详见"),s("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/History",target:"_blank",rel:"noopener noreferrer"}},[t._v("MDN"),s("OutboundLink")],1)]),t._v(" "),s("h3",{attrs:{id:"两种history模式"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#两种history模式"}},[t._v("#")]),t._v(" 两种History模式")]),t._v(" "),s("h4",{attrs:{id:"_1-hash模式"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-hash模式"}},[t._v("#")]),t._v(" 1. "),s("code",[t._v("hash")]),t._v("模式")]),t._v(" "),s("p",[t._v("这种方式其实本质是"),s("strong",[t._v("锚点")]),t._v("的变化，不需要后端配合。")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("hash")]),t._v("模式是"),s("code",[t._v("URL")]),t._v("中的"),s("code",[t._v("#")]),t._v("后面的内容，如"),s("code",[t._v("http://localhost:3000/#/test")]),t._v("中的"),s("code",[t._v("#/test")]),t._v("就是"),s("code",[t._v("hash")]),t._v("。")]),t._v(" "),s("li",[s("code",[t._v("hash")]),t._v("模式不会向服务器发送请求，只会在"),s("code",[t._v("URL")]),t._v("中添加"),s("code",[t._v("#")]),t._v("后面的内容。")]),t._v(" "),s("li",[s("code",[t._v("hash")]),t._v("模式的"),s("code",[t._v("URL")]),t._v("中的"),s("code",[t._v("#")]),t._v("后面的内容称为"),s("code",[t._v("hash")]),t._v("，"),s("code",[t._v("hash")]),t._v("的变化不会引起页面的刷新。")]),t._v(" "),s("li",[s("code",[t._v("#")]),t._v("后面的内容被认为是"),s("code",[t._v("hash")]),t._v("（前台资源），不会作为资源发送给后端服务器。")])]),t._v(" "),s("h4",{attrs:{id:"_2-history模式"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-history模式"}},[t._v("#")]),t._v(" 2. "),s("code",[t._v("history")]),t._v("模式")]),t._v(" "),s("p",[t._v("这种方式是"),s("code",[t._v("HTML5")]),t._v("新增的"),s("code",[t._v("API")]),t._v("，需要后端配合。")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("history")]),t._v("模式是"),s("code",[t._v("URL")]),t._v("中的"),s("code",[t._v("/")]),t._v("后面的内容，如"),s("code",[t._v("http://localhost:3000/test")]),t._v("中的"),s("code",[t._v("/test")]),t._v("就是"),s("code",[t._v("history")]),t._v("。")]),t._v(" "),s("li",[s("code",[t._v("history")]),t._v("模式会向服务器发送请求，会向服务器发送请求，服务器会根据请求的"),s("code",[t._v("URL")]),t._v("返回对应的页面。")]),t._v(" "),s("li",[s("code",[t._v("history")]),t._v("模式的"),s("code",[t._v("URL")]),t._v("中的"),s("code",[t._v("/")]),t._v("后面的内容称为"),s("code",[t._v("path")]),t._v("，"),s("code",[t._v("path")]),t._v("的变化会引起页面的刷新。")])])])}),[],!1,null,null,null);s.default=e.exports}}]);